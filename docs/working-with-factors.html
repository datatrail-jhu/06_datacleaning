<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 8 Working with Factors | Course Name</title>
  <meta name="description" content="Description about Course/Book." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 8 Working with Factors | Course Name" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Description about Course/Book." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 8 Working with Factors | Course Name" />
  
  <meta name="twitter:description" content="Description about Course/Book." />
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="assets/DataTrail_favicon.ico" type="image/x-icon" />
<link rel="prev" href="working-with-strings.html"/>
<link rel="next" href="working-with-dates.html"/>
<script src="libs/header-attrs-2.10/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="assets/style_DataTrail.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<a href="https://www.datatrail.org/"><img src="https://github.com/datatrail-jhu/DataTrail_Template/raw/main/assets/DataTrail_logo.jpg" style="padding-left: 0px; padding-top: 8px;"</a>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About this Course</a></li>
<li class="chapter" data-level="1" data-path="what-is-data.html"><a href="what-is-data.html"><i class="fa fa-check"></i><b>1</b> What is data?</a>
<ul>
<li class="chapter" data-level="1.0.1" data-path="what-is-data.html"><a href="what-is-data.html#types-of-data"><i class="fa fa-check"></i><b>1.0.1</b> Types of data</a></li>
<li class="chapter" data-level="1.0.2" data-path="what-is-data.html"><a href="what-is-data.html#why-is-data-important"><i class="fa fa-check"></i><b>1.0.2</b> Why is data important?</a></li>
<li class="chapter" data-level="1.0.3" data-path="what-is-data.html"><a href="what-is-data.html#slides-and-video"><i class="fa fa-check"></i><b>1.0.3</b> Slides and Video</a></li>
<li class="chapter" data-level="1.0.4" data-path="what-is-data.html"><a href="what-is-data.html#what-is-data-quiz"><i class="fa fa-check"></i><b>1.0.4</b> What is Data quiz</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-in-r.html"><a href="data-in-r.html"><i class="fa fa-check"></i><b>2</b> Data in R</a>
<ul>
<li class="chapter" data-level="2.0.1" data-path="data-in-r.html"><a href="data-in-r.html#file-types-in-r"><i class="fa fa-check"></i><b>2.0.1</b> File Types in R</a></li>
<li class="chapter" data-level="2.0.2" data-path="data-in-r.html"><a href="data-in-r.html#datasets-in-r"><i class="fa fa-check"></i><b>2.0.2</b> Datasets in R</a></li>
<li class="chapter" data-level="2.0.3" data-path="data-in-r.html"><a href="data-in-r.html#datasets-in-packages"><i class="fa fa-check"></i><b>2.0.3</b> Datasets in Packages</a></li>
<li class="chapter" data-level="2.0.4" data-path="data-in-r.html"><a href="data-in-r.html#other-types-of-data-in-r"><i class="fa fa-check"></i><b>2.0.4</b> Other types of data in R</a></li>
<li class="chapter" data-level="2.0.5" data-path="data-in-r.html"><a href="data-in-r.html#summary"><i class="fa fa-check"></i><b>2.0.5</b> Summary</a></li>
<li class="chapter" data-level="2.0.6" data-path="data-in-r.html"><a href="data-in-r.html#additional-resources"><i class="fa fa-check"></i><b>2.0.6</b> Additional Resources</a></li>
<li class="chapter" data-level="2.0.7" data-path="data-in-r.html"><a href="data-in-r.html#slides-and-video-1"><i class="fa fa-check"></i><b>2.0.7</b> Slides and Video</a></li>
<li class="chapter" data-level="2.0.8" data-path="data-in-r.html"><a href="data-in-r.html#data-in-r-quiz"><i class="fa fa-check"></i><b>2.0.8</b> Data in R quiz</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="tidy-data.html"><a href="tidy-data.html"><i class="fa fa-check"></i><b>3</b> Tidy Data</a>
<ul>
<li class="chapter" data-level="3.0.1" data-path="tidy-data.html"><a href="tidy-data.html#why-tidy-data"><i class="fa fa-check"></i><b>3.0.1</b> Why Tidy Data?</a></li>
<li class="chapter" data-level="3.0.2" data-path="tidy-data.html"><a href="tidy-data.html#data-terminology"><i class="fa fa-check"></i><b>3.0.2</b> Data Terminology</a></li>
<li class="chapter" data-level="3.0.3" data-path="tidy-data.html"><a href="tidy-data.html#principles-of-tidy-data"><i class="fa fa-check"></i><b>3.0.3</b> Principles of Tidy Data</a></li>
<li class="chapter" data-level="3.0.4" data-path="tidy-data.html"><a href="tidy-data.html#rules-for-tidy-spreadsheets"><i class="fa fa-check"></i><b>3.0.4</b> Rules for Tidy Spreadsheets</a></li>
<li class="chapter" data-level="3.0.5" data-path="tidy-data.html"><a href="tidy-data.html#additional-resources-1"><i class="fa fa-check"></i><b>3.0.5</b> Additional resources</a></li>
<li class="chapter" data-level="3.0.6" data-path="tidy-data.html"><a href="tidy-data.html#slides-and-video-2"><i class="fa fa-check"></i><b>3.0.6</b> Slides and Video</a></li>
<li class="chapter" data-level="3.0.7" data-path="tidy-data.html"><a href="tidy-data.html#tidy-data-quiz"><i class="fa fa-check"></i><b>3.0.7</b> Tidy Data quiz</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="untidy-data.html"><a href="untidy-data.html"><i class="fa fa-check"></i><b>4</b> Untidy Data</a>
<ul>
<li class="chapter" data-level="4.0.1" data-path="untidy-data.html"><a href="untidy-data.html#common-problems-with-messy-data-sets"><i class="fa fa-check"></i><b>4.0.1</b> Common problems with messy data sets</a></li>
<li class="chapter" data-level="4.0.2" data-path="untidy-data.html"><a href="untidy-data.html#examples-of-untidy-data"><i class="fa fa-check"></i><b>4.0.2</b> Examples of untidy data</a></li>
<li class="chapter" data-level="4.0.3" data-path="untidy-data.html"><a href="untidy-data.html#tidying-untidy-data"><i class="fa fa-check"></i><b>4.0.3</b> Tidying untidy data</a></li>
<li class="chapter" data-level="4.0.4" data-path="untidy-data.html"><a href="untidy-data.html#slides-and-video-3"><i class="fa fa-check"></i><b>4.0.4</b> Slides and Video</a></li>
<li class="chapter" data-level="4.0.5" data-path="untidy-data.html"><a href="untidy-data.html#untidy-data-quiz"><i class="fa fa-check"></i><b>4.0.5</b> Untidy Data quiz</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="reshaping-data.html"><a href="reshaping-data.html"><i class="fa fa-check"></i><b>5</b> Reshaping Data</a>
<ul>
<li class="chapter" data-level="5.0.1" data-path="reshaping-data.html"><a href="reshaping-data.html#data-formats"><i class="fa fa-check"></i><b>5.0.1</b> Data Formats</a></li>
<li class="chapter" data-level="5.0.2" data-path="reshaping-data.html"><a href="reshaping-data.html#r-packages"><i class="fa fa-check"></i><b>5.0.2</b> R Packages</a></li>
<li class="chapter" data-level="5.0.3" data-path="reshaping-data.html"><a href="reshaping-data.html#additional-resources-2"><i class="fa fa-check"></i><b>5.0.3</b> Additional Resources</a></li>
<li class="chapter" data-level="5.0.4" data-path="reshaping-data.html"><a href="reshaping-data.html#slides-and-video-4"><i class="fa fa-check"></i><b>5.0.4</b> Slides and Video</a></li>
<li class="chapter" data-level="5.0.5" data-path="reshaping-data.html"><a href="reshaping-data.html#reshaping-data-quiz"><i class="fa fa-check"></i><b>5.0.5</b> Reshaping Data quiz</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="tidying-data.html"><a href="tidying-data.html"><i class="fa fa-check"></i><b>6</b> Tidying Data</a>
<ul>
<li class="chapter" data-level="6.0.1" data-path="tidying-data.html"><a href="tidying-data.html#dplyr"><i class="fa fa-check"></i><b>6.0.1</b> dplyr</a></li>
<li class="chapter" data-level="6.0.2" data-path="tidying-data.html"><a href="tidying-data.html#tidyr-1"><i class="fa fa-check"></i><b>6.0.2</b> tidyr</a></li>
<li class="chapter" data-level="6.0.3" data-path="tidying-data.html"><a href="tidying-data.html#janitor"><i class="fa fa-check"></i><b>6.0.3</b> janitor</a></li>
<li class="chapter" data-level="6.0.4" data-path="tidying-data.html"><a href="tidying-data.html#skimr"><i class="fa fa-check"></i><b>6.0.4</b> skimr</a></li>
<li class="chapter" data-level="6.0.5" data-path="tidying-data.html"><a href="tidying-data.html#the-pipe-operator"><i class="fa fa-check"></i><b>6.0.5</b> The Pipe Operator</a></li>
<li class="chapter" data-level="6.0.6" data-path="tidying-data.html"><a href="tidying-data.html#filtering-data"><i class="fa fa-check"></i><b>6.0.6</b> Filtering Data</a></li>
<li class="chapter" data-level="6.0.7" data-path="tidying-data.html"><a href="tidying-data.html#reordering"><i class="fa fa-check"></i><b>6.0.7</b> Reordering</a></li>
<li class="chapter" data-level="6.0.8" data-path="tidying-data.html"><a href="tidying-data.html#creating-new-columns"><i class="fa fa-check"></i><b>6.0.8</b> Creating new columns</a></li>
<li class="chapter" data-level="6.0.9" data-path="tidying-data.html"><a href="tidying-data.html#separating-columns"><i class="fa fa-check"></i><b>6.0.9</b> Separating Columns</a></li>
<li class="chapter" data-level="6.0.10" data-path="tidying-data.html"><a href="tidying-data.html#merging-columns"><i class="fa fa-check"></i><b>6.0.10</b> Merging Columns</a></li>
<li class="chapter" data-level="6.0.11" data-path="tidying-data.html"><a href="tidying-data.html#cleaning-up-column-names"><i class="fa fa-check"></i><b>6.0.11</b> Cleaning up column names</a></li>
<li class="chapter" data-level="6.0.12" data-path="tidying-data.html"><a href="tidying-data.html#combining-data-across-data-frames"><i class="fa fa-check"></i><b>6.0.12</b> Combining data across data frames</a></li>
<li class="chapter" data-level="6.0.13" data-path="tidying-data.html"><a href="tidying-data.html#grouping-data"><i class="fa fa-check"></i><b>6.0.13</b> Grouping Data</a></li>
<li class="chapter" data-level="6.0.14" data-path="tidying-data.html"><a href="tidying-data.html#summarizing-data"><i class="fa fa-check"></i><b>6.0.14</b> Summarizing Data</a></li>
<li class="chapter" data-level="6.0.15" data-path="tidying-data.html"><a href="tidying-data.html#conclusion"><i class="fa fa-check"></i><b>6.0.15</b> Conclusion</a></li>
<li class="chapter" data-level="6.0.16" data-path="tidying-data.html"><a href="tidying-data.html#additional-resources-3"><i class="fa fa-check"></i><b>6.0.16</b> Additional Resources</a></li>
<li class="chapter" data-level="6.0.17" data-path="tidying-data.html"><a href="tidying-data.html#slides-and-video-5"><i class="fa fa-check"></i><b>6.0.17</b> Slides and Video</a></li>
<li class="chapter" data-level="6.0.18" data-path="tidying-data.html"><a href="tidying-data.html#tidying-data-quiz"><i class="fa fa-check"></i><b>6.0.18</b> Tidying Data quiz</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="working-with-strings.html"><a href="working-with-strings.html"><i class="fa fa-check"></i><b>7</b> Working with Strings</a>
<ul>
<li class="chapter" data-level="7.0.1" data-path="working-with-strings.html"><a href="working-with-strings.html#strings-review"><i class="fa fa-check"></i><b>7.0.1</b> Strings review</a></li>
<li class="chapter" data-level="7.0.2" data-path="working-with-strings.html"><a href="working-with-strings.html#stringr"><i class="fa fa-check"></i><b>7.0.2</b> stringr</a></li>
<li class="chapter" data-level="7.0.3" data-path="working-with-strings.html"><a href="working-with-strings.html#string-basics"><i class="fa fa-check"></i><b>7.0.3</b> String basics</a></li>
<li class="chapter" data-level="7.0.4" data-path="working-with-strings.html"><a href="working-with-strings.html#regular-expressions"><i class="fa fa-check"></i><b>7.0.4</b> Regular expressions</a></li>
<li class="chapter" data-level="7.0.5" data-path="working-with-strings.html"><a href="working-with-strings.html#conclusion-1"><i class="fa fa-check"></i><b>7.0.5</b> Conclusion</a></li>
<li class="chapter" data-level="7.0.6" data-path="working-with-strings.html"><a href="working-with-strings.html#additional-resources-4"><i class="fa fa-check"></i><b>7.0.6</b> Additional Resources</a></li>
<li class="chapter" data-level="7.0.7" data-path="working-with-strings.html"><a href="working-with-strings.html#slides-and-video-6"><i class="fa fa-check"></i><b>7.0.7</b> Slides and Video</a></li>
<li class="chapter" data-level="7.0.8" data-path="working-with-strings.html"><a href="working-with-strings.html#working-with-strings-quiz"><i class="fa fa-check"></i><b>7.0.8</b> Working with Strings quiz</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="working-with-factors.html"><a href="working-with-factors.html"><i class="fa fa-check"></i><b>8</b> Working with Factors</a>
<ul>
<li class="chapter" data-level="8.0.1" data-path="working-with-factors.html"><a href="working-with-factors.html#factor-basics"><i class="fa fa-check"></i><b>8.0.1</b> Factor basics</a></li>
<li class="chapter" data-level="8.0.2" data-path="working-with-factors.html"><a href="working-with-factors.html#manually-change-the-labels-of-factor-levels-fct_relevel"><i class="fa fa-check"></i><b>8.0.2</b> Manually change the labels of factor levels : <code>fct_relevel()</code></a></li>
<li class="chapter" data-level="8.0.3" data-path="working-with-factors.html"><a href="working-with-factors.html#keep-the-order-of-the-factor-levels-fct_inorder"><i class="fa fa-check"></i><b>8.0.3</b> Keep the order of the factor levels : <code>fct_inorder()</code></a></li>
<li class="chapter" data-level="8.0.4" data-path="working-with-factors.html"><a href="working-with-factors.html#advanced-factoring"><i class="fa fa-check"></i><b>8.0.4</b> Advanced Factoring</a></li>
<li class="chapter" data-level="8.0.5" data-path="working-with-factors.html"><a href="working-with-factors.html#re-ordering-factor-levels-by-frequency-fct_infreq"><i class="fa fa-check"></i><b>8.0.5</b> Re-ordering factor levels by frequency : <code>fct_infreq()</code></a></li>
<li class="chapter" data-level="8.0.6" data-path="working-with-factors.html"><a href="working-with-factors.html#reversing-order-levels-fct_rev"><i class="fa fa-check"></i><b>8.0.6</b> Reversing order levels : <code>fct_rev()</code></a></li>
<li class="chapter" data-level="8.0.7" data-path="working-with-factors.html"><a href="working-with-factors.html#re-ordering-factor-levels-by-another-variable-fct_reorder"><i class="fa fa-check"></i><b>8.0.7</b> Re-ordering factor levels by another variable : <code>fct_reorder()</code></a></li>
<li class="chapter" data-level="8.0.8" data-path="working-with-factors.html"><a href="working-with-factors.html#combining-several-levels-into-one-fct_recode"><i class="fa fa-check"></i><b>8.0.8</b> Combining several levels into one: <code>fct_recode()</code></a></li>
<li class="chapter" data-level="8.0.9" data-path="working-with-factors.html"><a href="working-with-factors.html#converting-numeric-levels-to-factors-ifelse-factor"><i class="fa fa-check"></i><b>8.0.9</b> Converting numeric levels to factors: <code>ifelse()</code> + <code>factor()</code></a></li>
<li class="chapter" data-level="8.0.10" data-path="working-with-factors.html"><a href="working-with-factors.html#conclusions"><i class="fa fa-check"></i><b>8.0.10</b> Conclusions</a></li>
<li class="chapter" data-level="8.0.11" data-path="working-with-factors.html"><a href="working-with-factors.html#additional-resources-5"><i class="fa fa-check"></i><b>8.0.11</b> Additional Resources</a></li>
<li class="chapter" data-level="8.0.12" data-path="working-with-factors.html"><a href="working-with-factors.html#slides-and-video-7"><i class="fa fa-check"></i><b>8.0.12</b> Slides and Video</a></li>
<li class="chapter" data-level="8.0.13" data-path="working-with-factors.html"><a href="working-with-factors.html#working-with-factors-quiz"><i class="fa fa-check"></i><b>8.0.13</b> Working with Factors quiz</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="working-with-dates.html"><a href="working-with-dates.html"><i class="fa fa-check"></i><b>9</b> Working with Dates</a>
<ul>
<li class="chapter" data-level="9.0.1" data-path="working-with-dates.html"><a href="working-with-dates.html#dates-and-time-basics"><i class="fa fa-check"></i><b>9.0.1</b> Dates and time basics</a></li>
<li class="chapter" data-level="9.0.2" data-path="working-with-dates.html"><a href="working-with-dates.html#creating-dates-and-date-time-objects"><i class="fa fa-check"></i><b>9.0.2</b> Creating dates and date-time objects</a></li>
<li class="chapter" data-level="9.0.3" data-path="working-with-dates.html"><a href="working-with-dates.html#working-with-dates-1"><i class="fa fa-check"></i><b>9.0.3</b> Working with dates</a></li>
<li class="chapter" data-level="9.0.4" data-path="working-with-dates.html"><a href="working-with-dates.html#time-spans"><i class="fa fa-check"></i><b>9.0.4</b> Time spans</a></li>
<li class="chapter" data-level="9.0.5" data-path="working-with-dates.html"><a href="working-with-dates.html#whats-not-covered-in-this-lesson"><i class="fa fa-check"></i><b>9.0.5</b> What’s not covered in this lesson</a></li>
<li class="chapter" data-level="9.0.6" data-path="working-with-dates.html"><a href="working-with-dates.html#additional-resources-6"><i class="fa fa-check"></i><b>9.0.6</b> Additional Resources</a></li>
<li class="chapter" data-level="9.0.7" data-path="working-with-dates.html"><a href="working-with-dates.html#slides-and-video-8"><i class="fa fa-check"></i><b>9.0.7</b> Slides and Video</a></li>
<li class="chapter" data-level="9.0.8" data-path="working-with-dates.html"><a href="working-with-dates.html#working-with-dates-quiz"><i class="fa fa-check"></i><b>9.0.8</b> Working with Dates quiz</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="data-tidying-project.html"><a href="data-tidying-project.html"><i class="fa fa-check"></i><b>10</b> Data Tidying Project</a>
<ul>
<li class="chapter" data-level="10.0.1" data-path="data-tidying-project.html"><a href="data-tidying-project.html#data-tidying-project-1"><i class="fa fa-check"></i><b>10.0.1</b> Data Tidying Project</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="about-the-authors.html"><a href="about-the-authors.html"><i class="fa fa-check"></i>About the Authors</a></li>
<li class="chapter" data-level="11" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>11</b> References</a></li>
<li class="divider"></li>
<p style="text-align:center;"> <a href="https://github.com/jhudsl/OTTR_Template" target="blank" > This content was published with</a> <a href="https://bookdown.org/" target="blank"> bookdown by: </a> </p>
<p style="text-align:center;"> <a href="https://www.datatrail.org/"> Data Trail </a></p>
<a href="https://www.datatrail.org/"><img src="https://github.com/datatrail-jhu/DataTrail_Template/raw/main/assets/DataTrail_logo.jpg" style=" width: 80%; filter: grayscale(100%); padding-left: 40px; padding-top: 8px; vertical-align: top "</a>
<p style="text-align:center; font-size: 12px;"> <a href="https://github.com/rstudio4edu/rstudio4edu-book/"> Style adapted from: rstudio4edu-book </a> <a href ="https://creativecommons.org/licenses/by/2.0/"> (CC-BY 2.0) </a></p>
<p style="padding-left: 40px;"><div class="trapezoid" style = "padding-left: 40px;"><span>  <a href="https://forms.gle/VWaJYc3zATe3qxYC9"> Click here to provide feedback</a> <img src="assets/itcr_arrow.png" style=" width: 10%" ></span></div></p>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Course Name</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<head>
  <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,initial-scale=1.0">
  <!--script src="https://kit.fontawesome.com/6a26f47516.js"></script-->
  <!--<script src="assets/hideOutput.js"></script>-->
  <link href="assets/style_DataTrail.css" rel="stylesheet">
</head>
        


<div class="hero-image-container"> 
  <img class= "hero-image" src="assets/DataTrail.jpg">
</div>
<div id="working-with-factors" class="section level1" number="8">
<h1><span class="header-section-number">Chapter 8</span> Working with Factors</h1>
<p>In R, categorical data are handled as factors. By definition, categorical data are limited in that they have a set number of possible values they can take. For example, there are 12 months in a calendar year. In a month variable, each observation is limited to taking one of these twelve values. Thus, with a limited number of possible values, month is a categorical variable. Categorical data, which will be referred to as factors for the rest of this lesson, are regularly found in data. Learning how to work with this type of variable effectively will be incredibly helpful.</p>
<p>To make working with factors simpler, we’ll utilize the <code>forcats</code> package. Similar to the <code>stringr</code> package, all functions within <code>forcats</code> begin with <code>fct_</code>. As before, to see available functions you can type <code>?fct_</code> in your RStudio console. A drop-down menu will appear with all the possible forcats functions. Before working through this lesson, you’ll want to be sure that <code>forcats</code> has been installed and loaded in:</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="working-with-factors.html#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&#39;forcats&#39;</span>)</span>
<span id="cb84-2"><a href="working-with-factors.html#cb84-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(forcats)</span></code></pre></div>
<p>{format: png}
<img src="https://docs.google.com/presentation/d/16Y8swNgNfpmZPqDfw-lO36MXRc2T66zWoFB5Y35rmJU/export/png?id=16Y8swNgNfpmZPqDfw-lO36MXRc2T66zWoFB5Y35rmJU&amp;pageid=g391e563ea4_0_0" alt="fct_ output from RStudio" /></p>
<div id="factor-basics" class="section level3" number="8.0.1">
<h3><span class="header-section-number">8.0.1</span> Factor basics</h3>
<p>In R, factors are comprised of two components: the actual <strong>values</strong> of the data and the possible <strong>levels</strong> within the factor. Thus, to create a factor, you need to supply both these pieces of information.</p>
<p>For example, if we were to create a character vector of the twelve months, we could certainly do that:</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="working-with-factors.html#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="do">## all 12 months</span></span>
<span id="cb85-2"><a href="working-with-factors.html#cb85-2" aria-hidden="true" tabindex="-1"></a>all_months <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Jan&quot;</span>, <span class="st">&quot;Feb&quot;</span>, <span class="st">&quot;Mar&quot;</span>, <span class="st">&quot;Apr&quot;</span>, <span class="st">&quot;May&quot;</span>, <span class="st">&quot;Jun&quot;</span>, <span class="st">&quot;Jul&quot;</span>, <span class="st">&quot;Aug&quot;</span>, <span class="st">&quot;Sep&quot;</span>, <span class="st">&quot;Oct&quot;</span>, <span class="st">&quot;Nov&quot;</span>, <span class="st">&quot;Dec&quot;</span>)</span>
<span id="cb85-3"><a href="working-with-factors.html#cb85-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-4"><a href="working-with-factors.html#cb85-4" aria-hidden="true" tabindex="-1"></a><span class="do">## our data</span></span>
<span id="cb85-5"><a href="working-with-factors.html#cb85-5" aria-hidden="true" tabindex="-1"></a>some_months <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Mar&quot;</span>, <span class="st">&quot;Dec&quot;</span>, <span class="st">&quot;Jan&quot;</span>,  <span class="st">&quot;Apr&quot;</span>, <span class="st">&quot;Jul&quot;</span>)</span></code></pre></div>
<p>However, if we were to sort this vector, R would sort this vector alphabetically.</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="working-with-factors.html#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(some_months)</span></code></pre></div>
<p>{format: png}
<img src="https://docs.google.com/presentation/d/16Y8swNgNfpmZPqDfw-lO36MXRc2T66zWoFB5Y35rmJU/export/png?id=16Y8swNgNfpmZPqDfw-lO36MXRc2T66zWoFB5Y35rmJU&amp;pageid=g391e563ea4_0_12" alt="sort sorts variable alphabetically" /></p>
<p>While you and I know that this is not how months should be ordered, we haven’t yet told R that. To do so, we need to let R know that it’s a factor variable and what the levels of that factor variable should be.</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="working-with-factors.html#cb87-1" aria-hidden="true" tabindex="-1"></a>mon <span class="ot">&lt;-</span> <span class="fu">factor</span>(some_months, <span class="at">levels =</span> all_months)</span>
<span id="cb87-2"><a href="working-with-factors.html#cb87-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-3"><a href="working-with-factors.html#cb87-3" aria-hidden="true" tabindex="-1"></a>mon</span>
<span id="cb87-4"><a href="working-with-factors.html#cb87-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-5"><a href="working-with-factors.html#cb87-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(mon)</span></code></pre></div>
<p>{format: png}
<img src="https://docs.google.com/presentation/d/16Y8swNgNfpmZPqDfw-lO36MXRc2T66zWoFB5Y35rmJU/export/png?id=16Y8swNgNfpmZPqDfw-lO36MXRc2T66zWoFB5Y35rmJU&amp;pageid=g391e563ea4_0_16" alt="defining the factor levels sorts this variable sensibly" /></p>
<p>Here, we specify all the possible values that the factor could take in the <code>levels = all_months</code> argument. So, even though not all twelve months are included in the some_months object, we’ve stated that all of the months are possible values. Further, when you sort this variable, it now sorts in the sensical way!</p>
</div>
<div id="manually-change-the-labels-of-factor-levels-fct_relevel" class="section level3" number="8.0.2">
<h3><span class="header-section-number">8.0.2</span> Manually change the labels of factor levels : <code>fct_relevel()</code></h3>
<p>What if you wanted your months to start with July first? That can be accomplished using <code>fct_relevel()</code>. To use this function, you simply need to state what you’d like to relevel (<code>mon</code>) followed by the levels you want to relevel. If you want these to be placed in the beginning, the after argument should be <code>after = 0</code>. You can play around with this setting to see how changing <code>after</code> affects the levels in your output.</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="working-with-factors.html#cb88-1" aria-hidden="true" tabindex="-1"></a>mon_relevel <span class="ot">&lt;-</span> <span class="fu">fct_relevel</span>(mon, <span class="st">&quot;Jul&quot;</span>, <span class="st">&quot;Aug&quot;</span>, <span class="st">&quot;Sep&quot;</span>, <span class="st">&quot;Oct&quot;</span>, <span class="st">&quot;Nov&quot;</span>, <span class="st">&quot;Dec&quot;</span>, <span class="at">after =</span> <span class="dv">0</span>)</span>
<span id="cb88-2"><a href="working-with-factors.html#cb88-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-3"><a href="working-with-factors.html#cb88-3" aria-hidden="true" tabindex="-1"></a>mon_relevel</span>
<span id="cb88-4"><a href="working-with-factors.html#cb88-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-5"><a href="working-with-factors.html#cb88-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(mon_relevel)</span></code></pre></div>
<p>{format: png}
<img src="https://docs.google.com/presentation/d/16Y8swNgNfpmZPqDfw-lO36MXRc2T66zWoFB5Y35rmJU/export/png?id=16Y8swNgNfpmZPqDfw-lO36MXRc2T66zWoFB5Y35rmJU&amp;pageid=g391e563ea4_0_47" alt="fct_relevel enables you to change the order of your factor levels" /></p>
<p>After re-leveling, when we sort this factor, we see that Jul is placed first, as specified by the level re-ordering.</p>
</div>
<div id="keep-the-order-of-the-factor-levels-fct_inorder" class="section level3" number="8.0.3">
<h3><span class="header-section-number">8.0.3</span> Keep the order of the factor levels : <code>fct_inorder()</code></h3>
<p>Now, if you’re not interested in the months being in calendar year order, you can always state that you want the levels to stay in the same order as the data you started with, you simply specify <code>fct_inorder</code>.</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="working-with-factors.html#cb89-1" aria-hidden="true" tabindex="-1"></a>mon_inorder <span class="ot">&lt;-</span> <span class="fu">fct_inorder</span>(some_months)</span>
<span id="cb89-2"><a href="working-with-factors.html#cb89-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-3"><a href="working-with-factors.html#cb89-3" aria-hidden="true" tabindex="-1"></a>mon_inorder</span>
<span id="cb89-4"><a href="working-with-factors.html#cb89-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-5"><a href="working-with-factors.html#cb89-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(mon_inorder)</span></code></pre></div>
<p>{format: png}
<img src="https://docs.google.com/presentation/d/16Y8swNgNfpmZPqDfw-lO36MXRc2T66zWoFB5Y35rmJU/export/png?id=16Y8swNgNfpmZPqDfw-lO36MXRc2T66zWoFB5Y35rmJU&amp;pageid=g391e563ea4_0_52" alt="fct_inorder assigns levels in the same order the level is seen in the data" /></p>
<p>We see now with <code>fct_inorder</code> that even when we sort the output, it does not sort the factor alphabetically, nor does it put it in calendar order. In fact, it stays in the same order as the input, just as we specified.</p>
</div>
<div id="advanced-factoring" class="section level3" number="8.0.4">
<h3><span class="header-section-number">8.0.4</span> Advanced Factoring</h3>
<p>For the remainder of this lesson, we’re going to return to using a dataset that’s in R by default. We’ll use the <code>chickwts</code> dataset for exploring the remaining advanced functions. This data set includes data from an experiment that was looking to compare the “effectiveness of various feed supplements on the growth rate of chickens.”</p>
<p>{format: png}
<img src="https://docs.google.com/presentation/d/16Y8swNgNfpmZPqDfw-lO36MXRc2T66zWoFB5Y35rmJU/export/png?id=16Y8swNgNfpmZPqDfw-lO36MXRc2T66zWoFB5Y35rmJU&amp;pageid=g391e563ea4_0_24" alt="chickwts dataset" /></p>
</div>
<div id="re-ordering-factor-levels-by-frequency-fct_infreq" class="section level3" number="8.0.5">
<h3><span class="header-section-number">8.0.5</span> Re-ordering factor levels by frequency : <code>fct_infreq()</code></h3>
<p>To re-order factor levels by frequency of the value in the dataset, you’ll want to use <code>fct_infreq()</code>. Below, we see from the output from <code>tabyl()</code> that ‘soybean’ is the most frequent feed in the data set while ‘horsebean’ is the least frequent. Thus, when we order by frequency, we can expect these two feeds to be at opposite ends for our levels.</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="working-with-factors.html#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="do">## take a look at frequency of each level </span></span>
<span id="cb90-2"><a href="working-with-factors.html#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="do">## using tabyl() from `janitor` package</span></span>
<span id="cb90-3"><a href="working-with-factors.html#cb90-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb90-4"><a href="working-with-factors.html#cb90-4" aria-hidden="true" tabindex="-1"></a><span class="fu">tabyl</span>(chickwts<span class="sc">$</span>feed)</span>
<span id="cb90-5"><a href="working-with-factors.html#cb90-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-6"><a href="working-with-factors.html#cb90-6" aria-hidden="true" tabindex="-1"></a><span class="do">## order levels by frequency </span></span>
<span id="cb90-7"><a href="working-with-factors.html#cb90-7" aria-hidden="true" tabindex="-1"></a><span class="fu">fct_infreq</span>(chickwts<span class="sc">$</span>feed) <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code></pre></div>
<p>{format: png}
<img src="https://docs.google.com/presentation/d/16Y8swNgNfpmZPqDfw-lO36MXRc2T66zWoFB5Y35rmJU/export/png?id=16Y8swNgNfpmZPqDfw-lO36MXRc2T66zWoFB5Y35rmJU&amp;pageid=g391e563ea4_0_56" alt="fct_infreq orders levels based on frequency in dataset" /></p>
<p>As expected, soybean, the most frequent level, appears as the first level and horsebean, the least frequent level, appears last. The rest of the levels are sorted by frequency.</p>
</div>
<div id="reversing-order-levels-fct_rev" class="section level3" number="8.0.6">
<h3><span class="header-section-number">8.0.6</span> Reversing order levels : <code>fct_rev()</code></h3>
<p>If we wanted to sort the levels from least frequent to most frequent, we could just put <code>fct_rev()</code> around the code we just used to reverse the factor level order.</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="working-with-factors.html#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="do">## reverse factor level order</span></span>
<span id="cb91-2"><a href="working-with-factors.html#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="fu">fct_rev</span>(<span class="fu">fct_infreq</span>(chickwts<span class="sc">$</span>feed)) <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code></pre></div>
<p>{format: png}
<img src="https://docs.google.com/presentation/d/16Y8swNgNfpmZPqDfw-lO36MXRc2T66zWoFB5Y35rmJU/export/png?id=16Y8swNgNfpmZPqDfw-lO36MXRc2T66zWoFB5Y35rmJU&amp;pageid=g391e563ea4_0_20" alt="fct_rev() reverses the factor level order" /></p>
</div>
<div id="re-ordering-factor-levels-by-another-variable-fct_reorder" class="section level3" number="8.0.7">
<h3><span class="header-section-number">8.0.7</span> Re-ordering factor levels by another variable : <code>fct_reorder()</code></h3>
<p>At times you may want to reorder levels of a factor by another variable in your dataset. This is often helpful when generating plots (which we’ll get to in a future lesson!). To do this you specify the variable you want to reorder, followed by the numeric variable by which you’d like the factor to be re-leveled. Here, we see that we’re re-leveling feed by the weight of the chickens. While we haven’t discussed plotting yet, the best way to demonstrate how this works is by plotting the feed against the weights. We can see that the order of the factor is such that those chickens with the lowest median weight (horsebean) are to the left, while those with the highest median weight (casein) are to the right.</p>
<pre><code>## order levels by a second numeric variable 
chickwts %&gt;%
  mutate(newfeed = fct_reorder(feed, weight)) %&gt;% 
  ggplot(., aes(newfeed,weight)) +
  geom_point()</code></pre>
<p>{format: png}
<img src="https://docs.google.com/presentation/d/16Y8swNgNfpmZPqDfw-lO36MXRc2T66zWoFB5Y35rmJU/export/png?id=16Y8swNgNfpmZPqDfw-lO36MXRc2T66zWoFB5Y35rmJU&amp;pageid=g391e563ea4_0_69" alt="fct_reorder allows you to re-level a factor based on a secondary numeric variable" /></p>
</div>
<div id="combining-several-levels-into-one-fct_recode" class="section level3" number="8.0.8">
<h3><span class="header-section-number">8.0.8</span> Combining several levels into one: <code>fct_recode()</code></h3>
<p>To demonstrate how to combine several factor levels into a single level, we’ll continue to use our ‘chickwts’ dataset. Now, I don’t know much about chicken feed, and there’s a good chance you know a lot more. However, let’s <em>assume</em> (even if it doesn’t make good sense with regards to chicken feed) you wanted to combine all the feeds with the name “bean” in it to a single category and you wanted to combine “linseed” and “sunflower”” into the category “seed”. This can be simply accomplished with <code>fct_recode</code>. In fact, below, you see we can rename all the levels to a simpler term (the values on the left side of the equals sign) by re-naming the original level names (the right side of the equals sign). This code will create a new column, called <code>feed_recode</code> (accomplished with <code>mutate()</code>). This new column will combine “horsebean” and “soybean feeds”, grouping them both into the larger level “bean”. It will similarly group “sunflower” and “linseed” into the larger level “seed.” All other feed types will also be renamed. When we look at the summary of this new column by using <code>tabyl()</code>, we see that all of the feeds have been recoded, just as we specified! We now have four different feed types, rather than the original six.</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="working-with-factors.html#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="do">## we can use mutate to create a new column</span></span>
<span id="cb93-2"><a href="working-with-factors.html#cb93-2" aria-hidden="true" tabindex="-1"></a><span class="do">## and fct_recode() to:</span></span>
<span id="cb93-3"><a href="working-with-factors.html#cb93-3" aria-hidden="true" tabindex="-1"></a><span class="do">## 1. group horsebean and soybean into a single level</span></span>
<span id="cb93-4"><a href="working-with-factors.html#cb93-4" aria-hidden="true" tabindex="-1"></a><span class="do">## 2. rename all the other levels.</span></span>
<span id="cb93-5"><a href="working-with-factors.html#cb93-5" aria-hidden="true" tabindex="-1"></a>chickwts <span class="sc">%&gt;%</span></span>
<span id="cb93-6"><a href="working-with-factors.html#cb93-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">feed_recode =</span> <span class="fu">fct_recode</span>(feed,</span>
<span id="cb93-7"><a href="working-with-factors.html#cb93-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;seed&quot;</span>    <span class="ot">=</span>   <span class="st">&quot;linseed&quot;</span>,</span>
<span id="cb93-8"><a href="working-with-factors.html#cb93-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;bean&quot;</span>    <span class="ot">=</span>   <span class="st">&quot;horsebean&quot;</span>,</span>
<span id="cb93-9"><a href="working-with-factors.html#cb93-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;bean&quot;</span>    <span class="ot">=</span>   <span class="st">&quot;soybean&quot;</span>,</span>
<span id="cb93-10"><a href="working-with-factors.html#cb93-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;meal&quot;</span>    <span class="ot">=</span>   <span class="st">&quot;meatmeal&quot;</span>,</span>
<span id="cb93-11"><a href="working-with-factors.html#cb93-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;seed&quot;</span>    <span class="ot">=</span>   <span class="st">&quot;sunflower&quot;</span>,</span>
<span id="cb93-12"><a href="working-with-factors.html#cb93-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;casein&quot;</span>  <span class="ot">=</span>   <span class="st">&quot;casein&quot;</span></span>
<span id="cb93-13"><a href="working-with-factors.html#cb93-13" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb93-14"><a href="working-with-factors.html#cb93-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(feed_recode)</span></code></pre></div>
<p>{format: png}
<img src="https://docs.google.com/presentation/d/16Y8swNgNfpmZPqDfw-lO36MXRc2T66zWoFB5Y35rmJU/export/png?id=16Y8swNgNfpmZPqDfw-lO36MXRc2T66zWoFB5Y35rmJU&amp;pageid=g391e563ea4_0_79" alt="fct_recode() can be used to group multiple levels into a single level and/or to rename levels" /></p>
</div>
<div id="converting-numeric-levels-to-factors-ifelse-factor" class="section level3" number="8.0.9">
<h3><span class="header-section-number">8.0.9</span> Converting numeric levels to factors: <code>ifelse()</code> + <code>factor()</code></h3>
<p>Finally, when working with factors, there are times when you want to convert a numeric variable into a factor. For example, if you were talking about a dataset with BMI for a number of individuals, you may want to categorize people based on whether or not they are underweight (BMI &lt; 18.5), of a healthy weight (BMI between 18.5 and 29.9), or obese (BMI &gt;= 30). When you want to take a numeric variable and turn it into a categorical factor variable, you can accomplish this easily by using <code>ifelse()</code> statements. <code>if{}</code> statements and <code>else{}</code> statements were covered in an earlier lesson. Here we combine those two ideas. Within a single statement we provide R with a condition: <code>weight &lt;= 200</code>. With this, we are stating that the condition is if a chicken’s weight is less than or equal to 200 grams. Then, if that condition is true, meaning if a chicken’s weight is less than or equal to 200 grams, let’s assign that chicken to the category <code>low</code>. Otherwise, and this is the <code>else{}</code> part of the <code>ifelse()</code> function, assign that chicken to the category <code>high</code>. Finally, we have to let R know that weight_recode is a factor variable, so we call factor() on this new column. This way we take a numeric variable (<code>weight</code>), and turn it into a factor variable (<code>weight_recode</code>).</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="working-with-factors.html#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="do">## convert numeric variable to factor</span></span>
<span id="cb94-2"><a href="working-with-factors.html#cb94-2" aria-hidden="true" tabindex="-1"></a>chickwts <span class="sc">%&gt;%</span></span>
<span id="cb94-3"><a href="working-with-factors.html#cb94-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">weight_recode =</span> <span class="fu">ifelse</span>(weight <span class="sc">&lt;=</span> <span class="dv">200</span>, <span class="st">&quot;low&quot;</span>, <span class="st">&quot;high&quot;</span>), </span>
<span id="cb94-4"><a href="working-with-factors.html#cb94-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">weight_recode =</span> <span class="fu">factor</span>(weight_recode)) <span class="sc">%&gt;%</span></span>
<span id="cb94-5"><a href="working-with-factors.html#cb94-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tabyl</span>(weight_recode)</span></code></pre></div>
<p>{format: png}
<img src="https://docs.google.com/presentation/d/16Y8swNgNfpmZPqDfw-lO36MXRc2T66zWoFB5Y35rmJU/export/png?id=16Y8swNgNfpmZPqDfw-lO36MXRc2T66zWoFB5Y35rmJU&amp;pageid=g391e563ea4_0_84" alt="converting a numeric type variable to a factor" /></p>
</div>
<div id="conclusions" class="section level3" number="8.0.10">
<h3><span class="header-section-number">8.0.10</span> Conclusions</h3>
<p>This lesson has covered how to work with factors (categorical) variables in R using the <code>forcats</code> package in R. In line with the previous few lessons, the best way to learn how to work with factors, is to actually work with factors. Play around with the examples here and continue to practice using this type of variable! You’ll come across factors regularly as you analyze data!</p>
</div>
<div id="additional-resources-5" class="section level3" number="8.0.11">
<h3><span class="header-section-number">8.0.11</span> Additional Resources</h3>
<ul>
<li><a href="http://r4ds.had.co.nz/factors.html">r4ds : Chapter 15 - Factors</a> by <a href="http://hadley.nz/">Hadley Wickham</a></li>
<li><a href="https://forcats.tidyverse.org/">forcats</a>, part of the <a href="https://www.tidyverse.org/">tidyverse</a></li>
<li><a href="https://blog.rstudio.com/2016/08/31/forcats-0-1-0/">forcats blog post</a> by <a href="http://hadley.nz/">Hadley Wickham</a></li>
<li><a href="https://peerj.com/preprints/3163/">Wrangling Categorical Data in R</a> by <a href="http://www.science.smith.edu/~amcnamara/">Amelia McNamara</a> &amp; <a href="https://www.smith.edu/academics/faculty/nicholas-horton">Nicholas J Horton</a></li>
</ul>
<p>Note: <a href="https://peerj.com/preprints/3163/">Wrangling Categorical Data in R</a> is <strong>full</strong> of really great examples and goes into further depth than what is covered here. This is a <em>great</em> resource to get more practice working with categorical data (factors) in R.</p>
</div>
<div id="slides-and-video-7" class="section level3" number="8.0.12">
<h3><span class="header-section-number">8.0.12</span> Slides and Video</h3>
<div class="figure">
<img src="https://youtu.be/VW-8de5K0UI" alt="" />
<p class="caption">Working with Factors</p>
</div>
<ul>
<li><a href="https://docs.google.com/presentation/d/16Y8swNgNfpmZPqDfw-lO36MXRc2T66zWoFB5Y35rmJU/edit?usp=sharing">Slides</a></li>
</ul>
<p>{quiz, id: quiz_05_working_with_factors}</p>
</div>
<div id="working-with-factors-quiz" class="section level3" number="8.0.13">
<h3><span class="header-section-number">8.0.13</span> Working with Factors quiz</h3>
<p>{choose-answers: 4}
?1 If you wanted to re-order the levels of a factor variable to be ordered by frequency of that variable in the dataset, what function would you use?</p>
<ol start="3" style="list-style-type: upper-alpha">
<li>fct_infreq()</li>
</ol>
<ol start="13" style="list-style-type: lower-alpha">
<li>fct_recode()</li>
<li>fct_reorder()</li>
<li>fct_refreq()</li>
<li>fct_forcat()</li>
<li>fct_tabyl()</li>
</ol>
<p>{choose-answers: 4}
?1 If you wanted to re-order the levels of a factor variable by hand, what function would you use?</p>
<ol start="3" style="list-style-type: upper-alpha">
<li>fct_recode()</li>
</ol>
<ol start="13" style="list-style-type: lower-alpha">
<li>fct_infreq()</li>
<li>fct_reorder()</li>
<li>fct_refreq()</li>
<li>fct_forcat()</li>
<li>fct_tabyl()</li>
</ol>
<p>{choose-answers: 4}
?2 Assuming you have a dataframe (<code>df</code>) with two columns: <code>car</code>, and <code>size</code>, what would the code <code>df %&gt;% fct_reorder(car, size)</code> accomplish?</p>
<ol start="3" style="list-style-type: upper-alpha">
<li>reorder the levels of the variable <code>car</code> based on their median <code>size</code></li>
<li>reorders <code>car</code> levels based on their median <code>size</code></li>
</ol>
<ol start="15" style="list-style-type: lower-alpha">
<li>sort the data frame of <code>car</code> by <code>size</code></li>
<li>arranges the data frame of <code>car</code> by <code>size</code></li>
<li>reorder the levels of the variable <code>size</code> based on their median <code>car</code></li>
<li>sort the data frame of <code>size</code> by <code>car</code></li>
<li>leave the data frame as is</li>
<li>filters out any row with the word <code>car</code> or <code>size</code></li>
</ol>
<p>{choose-answers: 4, points: 2}
?3 If you were working with the <code>iris</code> dataset in r, which functions would you use to add a new column to the dataframe and change the levels of the <code>Species</code> variable?</p>
<ol start="3" style="list-style-type: upper-alpha">
<li>mutate(), fct_recode()</li>
</ol>
<ol start="15" style="list-style-type: lower-alpha">
<li>filter(), fct_recode()</li>
<li>mutate(), fct_inorder()</li>
<li>filter(), fct_inorder()</li>
<li>mutate(), fct_refreq()</li>
<li>filter(), fct_refreq()</li>
</ol>
<p>{points:3}
?4 Go to the <a href="https://rstudio.cloud/spaces/20345/join?access_code=n4b8J1s0XmWctSy83%2BEXbGAwj7rKcuFMI7WJEJFD">Cloud-based Data Science Space on RStudio Cloud</a> and click on your copy of the ‘swirl’ project (If you haven’t made a copy yet, do so now.) First type <code>library(swirl)</code> to load the package and then type <code>swirl()</code> to get started. Tell Swirl your first name when it asks what to call you. Then, type the number that corresponds to the course <code>CBDS Data Tidying</code>. Type the number that corresponds to the lesson <code>L07 Working With Factors Q01 Swirl</code>. Do this swirl module! Once complete, paste the code at the end of the lesson here.</p>
<p>! /.+(IudA|2Drs|i6k5|oVmt|oIMM|sF01|gJnA|SJCk|v4DU|5K90).+/i</p>
<p>{points:3}
?5 Within the same course on swirl: <code>CBDS Data Tidying</code>, navigate to the lesson <code>L07 Working With Factors Q02 Swirl</code>. Do this swirl module! Once complete, paste the code provided at the end of the swirl module here.</p>
<p>! /.+(xcIW|TfRH|OLYa|c9qt|5WhD|mQsc|HAuP|fhlO|EG6p|6Q7K).+/i</p>
<p>{points:3}
?6 Within the same course on swirl: <code>CBDS Data Tidying</code>, navigate to the lesson <code>L07 Working With Factors Q03 Swirl</code>. Do this swirl module! Once complete, paste the code provided at the end of the swirl module here.</p>
<p>! /.+(tZsQ|aHqm|PHy9|5Cdp|aj8T|Ojgy|DSNS|IxbW|Pohj|Si0Y).+/i</p>
<p>{points:3}
?7 Within the same course on swirl: <code>CBDS Data Tidying</code>, navigate to the lesson <code>L07 Working With Factors Q04 Swirl</code>. Do this swirl module! Once complete, paste the code provided at the end of the swirl module here.</p>
<p>! /.+(lUnQ|HA2n|19o1|Fw2c|JDFS|8drC|V9hO|WQGh|Tsn2|pcbD).+/i</p>
<p>{/quiz}</p>

</div>
</div>
<hr>
<center> 
  <div class="footer">
      All illustrations <a href="https://creativecommons.org/licenses/by/4.0/">CC-BY. </a>
      <br>
      All other materials <a href= "https://creativecommons.org/licenses/by/4.0/"> CC-BY </a> unless noted otherwise.
  </div>
</center>
            </section>

          </div>
        </div>
      </div>
<a href="working-with-strings.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="working-with-dates.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
